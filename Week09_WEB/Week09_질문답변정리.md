# Week 09 - 질문/답변 정리

#### 김빛누리
1. **PWA에 대해서 설명해주세요**
```
웹 기술을 이용해 앱과 같은 사용자 경험을 제공한다.

PWA의 핵심기술은 서비스 작업자(Service Worker) API
웹앱의 중요한 부분을 캐싱하여 사용자가 다음에 열 때 빠르게 로딩할 수 있도록 도와줌
캐싱은 어떻게 할 것인지 요청시 캐시를 먼저 보여줄지 웹서버를 통해서 
먼저 보여줄지, push 등등에 대한 프로그래밍하는 기술

주요 구성요소
- 보안 연결(HTTPS)
- service worker
- manifest file (설정 파일)

주요기능
- App의 중요 특징 중 하나인 Push가 가능
 : Push는 클라이언트의 요청이 없더라도 서버의 필요에 의해서 클라이언트에게 데이터를 보낼 수 있는 기능
- 서비스 워커를 사용해 느린 통신상태나 오프라인에서도 사용 가능
- 보안: HTTPS로만 연결되므로 보안수준 높다
- 앱으로 식별: manifest file, 서비스워커로 앱으로 식별되어 검색 가능
```

- 하이브리드 앱과 PWA 차이?
```
PWA는 웹기술, 설치할 필요 X, 서비스 워커 api 이용으로 느린 네트워크나 오프라인에서도 이용 가능
(하이브리드 앱은 웹 앱 기술로 개발, 프레임워크를 사용해 네이티브 앱으로 패키징)
```

2. **웹 취약점 공격 방법 중 XSS, CSRF 에 대해 아는대로 설명해주세요**
```
XSS란?
웹사이트 관리자가 아닌 이가 웹 페이지에 악성 스크립트를 삽입할 수 있는 취약점이다.
이 취약점은 웹 애플리케이션이 사용자로부터 입력 받은 값을 제대로 검사하지 않고 사용할 경우 나타난다. 
이 취약점으로 해커가 사용자의 정보(쿠키, 세션 등)를 탈취하거나, 자동으로 비정상적인 기능을 수행하게 할 수 있다.

XSS 공격의 종류에는
지속성, 반사형, DOM 기반 XSS가 있다.

CSRF란?
웹사이트 취약점 공격의 하나로, 
사용자가 자신의 의지와는 무관하게 공격자가 의도한 행위(수정, 삭제, 등록 등)를 
특정 웹사이트에 요청하게 하는 공격을 말한다.

사용자가 웹사이트에 로그인한 상태에서 사이트간 요청 위조 공격 코드가 삽입된 페이지를 열면, 
공격 대상이 되는 웹사이트는 위조된 공격 명령이 믿을 수 있는 사용자로부터 발송된 것으로 판단,공격에 노출된다.
```

2. **XSS, CSRF 공격 방어하려면 어떻게 하는지?**

```
XSS
- 입출력 값 검증
XSS Cheat Sheet에 대한 필터 목록을 만들어 모든 Cheat Sheet에 대한 대응을 가능하도록 사전에 대비한다. XSS 필터링을 적용 후 스크립트가 실행되는지 직접 테스트 과정을 거쳐볼 수도 있다,
    
- XSS 방어 라이브러리, 확장앱
Anti XSS 라이브러리를 제공해주는 회사들이 많다. 이 라이브러리는 서버단에서 추가하며, 사용자들은 각자 브라우저에서 악성 스크립트가 실행되지 않도록 확장앱을 설치하여 방어할 수 있다.
    
- 웹 방화벽
웹 방화벽은 웹 공격에 특화된 것으로, 다양한 Injection을 한꺼번에 방어할 수 있는 장점이 있다.
    
- CORS, SOP 설정
CORS(Cross-Origin Resource Sharing), SOP(Same-Origin-Policy)를 통해 리소스의 Source를 제한 하는것이 효과적인 방어 방법이 될 수 있다. 웹 서비스상 취약한 벡터에 공격 스크립트를 삽입 할 경우, 치명적인 공격을 하기 위해 스크립트를 작성하면 입력값 제한이나 기타 요인 때문에 공격 성공이 어렵다. 그러나 공격자의 서버에 위치한 스크립트를 불러 올 수 있다면 이는 상대적으로 쉬워진다. 그렇기 떄문에 CORS, SOP를 활용 하여 사전에 지정된 도메인이나 범위가 아니라면 리소스를 가져올 수 없게 제한해야 한다.

CSRF

- 리퍼러(Refferer) 검증
백엔드 단에서 Refferer 검증을 통해 승인된 도메인으로 요청시에만 처리하도록 한다.
    
- Security Token 사용
사용자의 세션에 임의의 난수 값을 저장하고, 사용자의 요청시 해당 값을 포함하여 전송시킨다. 백엔드 단에서는 요청을 받을 때 세션에 저장된 토큰값과 요청 파라미터로 전달받는 토큰 값이 일치하는 지 검증 과정을 거치는 방법이다.
```

- 리퍼러란?   
```
HTTP 프로토콜에는 referer 라는 헤더값이 있다.
Referer 요청 헤더는 현재 요청을 보낸 페이지의 절대 혹은 부분 주소를 포함한다.
```

#### 김주영
1. PWA
- 프로그레시브 웹 앱이란?
```
- 웹과 앱의 기능 모두 이점을 갖춘 웹앱으로 앱 수준과 같은 사용자 경험을 웹에서 제공하는 것이 목적이다
(하이브리드 앱과 차이점은 하이브리드 앱은 모바일 웹 앱 기술로 앱을 개발하고, 프레임워크를 사용해 네이티브 앱으로 패키징을 해주어야 함)
- 웹 주소만 있다면 누구나 접근이 가능하고 스마트폰의 저장 공간을 차지 하지 않음
- 홈 화면에 저장되면 브라우저에서 실행되며, 네이티브 앱처럼 동작
```
- 모바일 웹 앱과 구분되는 점?
```
- 네트워크 독립적
- 반응형, 모든 기기의 화면이나 브라우저에서 사용 가능
```
- PWA 예시?
```
트위터, 스타벅스, 우버
```
2. CSRF
- CSRF란?
```
- 인터넷 사용자가 자신의 의지와는 무관하게 공격자가 의도한 행위를 웹 사이트에 request하는 행위
(해커들이 유저의 권한을 도용해 광고성 글을 올리는 등)
```
- CSRF가 일어나는 경우
```
- 사용자가 해커가 만든 피싱 사이트에 접속한 경우
- 위조 요청을 전송하는 서비스에 사용자가 로그인을 한 상황
```
- CSRF 대응
```
- Security Token을 사용하여 사용자 세션에 임의의 난수 값 저장후 해당 값 포함하여 전송 → 요청을 받을 때, 세션에 저장된 토큰값과 요청 파라미터로 받는 토큰 값이 일치하는지 검증
- Refferer 검증을 통해 현재 요청된 페이지 링크 이전의 웹 페이지 주소를 검증하여 승인된 도메인 요청 시에만 처리하도록 함
```
3. XRR (Cross-Site Scripting : 사이트간 스크립팅)
- XRR이란?
```
- CSRF와 같이 권한이 없는 사용자가 웹 사이트에 스크립트를 삽입하는 공격
```
- XRR 과정
```
- XSS 공격에 취약한 웹 사이트를 탐색하고, XSS 공격을 위한 스크립트 포함된 URL노출
- 게시판에 스크립트를 삽입한 후 공격 대상자가 해당 게시글을 클릭하도록 유도
- 게시글의 URL을 사용자에게 노출하고, 사용자가 게시글을 확인함으로써 URL에 대한 요청을 서버에 전송
```
- XRR 공격 종류
```
- 지속성 : DB에 스크립트를 저장해 지속적으로 공격하는 방법
- 반사형 : 서버에서 사용자에게 html문서를 내려줄 때 발생시키는 방법
- DOM : html문서를 받아 파싱하는 중에 악성코드를 발생시키는 방법 (uri #태그 뒤에 스크립트 삽입)
```
#### 박상민
1. PWA 의 제공기능에 대해서 설명해주세요
```
- 프로그래시브
    - 점진적 개선을 통해 작성되서 어떤 브라우저든 상관없이 모든 사용자에게 적합
- 반응형
    - 데스크톱, 모바일, 테블릿 등 모든 폼 factor에 맞음
- 연결 독립적
    - 서비스 워커를 사용해 오프라인에서도 작동이 가능함
- 안전
    - HTTPS 를 통해 제공이 되므로 스누핑이 차단되어 콘텐츠가 변조되지 않음
- 검색가능
    - W3C 매니페스트 및 서비스 워커 등록 범위 덕분에 ‘앱’으로 식별되어 검색이 가능함
- 재참여 가능
    - 푸시 알림과 같은 기능을 통해 쉽게 재참여가 가능함
```
2. XSS 의 공격 기법 3가지에 대해서 설명해주세요.
```
- 지속성
    - 지속적으로 피해를 입히는 유형
    - XSS 취약점이 존재하는 웹 어플리케이션에 악성 스크립트를 삽입하여 열람한 사용자의 쿠키를 탈취하거나 리다이렉션 시키는 공격을 함
    - 이때 삽입된 스크립트를 데이터베이스에 저장시켜 지속적으로 공격을 하기 때문에 Persistent XSS 라고 불림
    - 게시판에 등록된 글에 스크립트 작성 → 글을 조회하자마자 스크립트 실행됨 (악성 스크립트)
- 반사형
    - 사용자에게 입력 받은 값을 서버에서 되돌려 주는 곳에서 발생
    - 공격자는 악의 스크립트와 함께 URL을 사용자에게 누르도록 유도하고, 누른 사용자는 이 스크립트가 실행되어 공격을 당하게 되는 유형
- DOM 기반 XSS   
    - 악성 스크립트가 포함된 URL을 사용자가 요청하게 되면서 브라우저를 해석하는 단계에서 발생하는 공격
```
3. CORS 와 SOP 에 대해서 설명해주세요.
``` 
- SOP → 방화벽 세움 / CORS → 방화벽에 구멍뚫어서 지정한 곳만 갈 수 있도록함
- SOP
    - 다른 사이트로의 HTTP 요청을 막는 기술
    - 프로토콜, 호스트명, 포트가 같아야함
- CORS
    - 제한적으로 다른 사이트로의 HTTP 요청을 보낼 수 있는 기술
    - 다른 서버의 리소스를 사용할 수 있음
    - 서버에서 다른 URL 의 접근을 허용할 수 있음
    - 서버단에서 설정
```

#### 장시우

1. XSS와 CSRF에 대해 설명해주세요.
```
1-1. XSS
CSRF와 같이 웹 어플리케이션 취약점 중 하나로, 관리자가 아닌 권한이 없는 사용자가 웹 사이트에 스크립트를 삽입하는 공격 기법을 말한다.
악의적으로 스크립트를 삽입하여 이를 열람한 사용자의 쿠키가 해커에게 전송시키며, 이 탈취한 쿠키를 통해 세션 하이재킹 공격을 한다. 해커는 세션ID를 가진 쿠키로 사용자의 계정에 로그인이 가능해지는 것이다.
공격 종류로는 지속성, 반사형, DOM 기반 XSS 등이 있다.

1-2. CSRF
웹 어플리케이션 취약점 중 하나로, 인터넷 사용자가 자신의 의지와는 무관하게 공격자가 의도한 행위 (modify, delete, register 등)를 특정한 웹사이트에 request하도록 만드는 공격을 말한다.
주로 해커들이 많이 이용하는 것으로, 유저의 권한을 도용해 중요한 기능을 실행하도록 한다.
우리가 실생활에서 CSRF 공격을 볼 수 있는 건, 해커가 사용자의 SNS 계정으로 광고성 글을 올리는 것이다.
정확히 말하면, CSRF는 해커가 사용자 컴퓨터를 감염시거나 서버를 해킹해서 공격하는 것이 아니다.
```

2. PWA에 대해서 설명해주세요.
```
2-1. 특징
확장성이 좋고, 깊이 있는 앱같은 웹을 만드는 것을 지향한다.
웹 주소만 있다면, 누구나 접근하여 사용이 가능하고 스마트폰의 저장공간을 잡아 먹지 않음
서비스 작업자(Service Worker) API : 웹앱의 중요한 부분을 캐싱하여 사용자가 다음에 열 때 빠르게 로딩할 수 있도록 도와줌
→ 네트워크 환경이 좋지 않아도 빠르게 구동되며, 사용자에게 푸시 알림을 보낼 수도 있음

2-2. PWA 제공 기능
프로그래시브 : 점진적 개선을 통해 작성되서 어떤 브라우저든 상관없이 모든 사용자에게 적합
반응형 : 데스크톱, 모바일, 테블릿 등 모든 폼 factor에 맞음
연결 독립적 : 서비스 워커를 사용해 오프라인에서도 작동이 가능함
안전 : HTTPS를 통해 제공이 되므로 스누핑이 차단되어 콘텐츠가 변조되지 않음
검색 가능 : W3C 매니페스트 및 서비스 워커 등록 범위 덕분에 '앱'으로 식별되어 검색이 가능함
재참여 가능 : 푸시 알림과 같은 기능을 통해 쉽게 재참여가 가능함
```

3. PWA와 하이브리드 앱의 차이점에 대해 설명해주세요.
```
3-1. 하이브래드 앱
하이브리드 앱은 네이티브 앱과 웹 앱의 기능을 결합한 것이라고 보면 된다.
JavaScript, HTML 및 CSS와 같이 잘 알려진 언어와 프레임 워크를 사용하여 다양한 플랫폼에서 사용할 수 있는 하이브리드 앱을 빠르게 만들 수 있다.
비용도 시간도 덜 들고 유지 보수도 쉽고 기본 API 기능도 사용 가능하나 오프라인(offline)으로는 작동하지 않고 똑같은 코드를 베이스로 하기 때문에 안드로이드나 아이폰 등 각 디바이스의 특정 기능을 사용하는 데 문제가 발생할 수도 있다.

3-2. PWA
PWA는 하이브리드 앱과 비슷하지만 약간 다르다.
기본적으로 사용자들에게 네이티브 앱의 느낌을 주면서도 웹 브라우저에서 바탕화면에 바로가기를 추가하여 특별한 다운로드와 인스톨 과정 없이 기본 앱처럼 사용할 수 있다는 것이 특징이다.
오프라인에서도 사용할 수도 있고 알림 메시지도 받을 수 있고 iOS보다 안드로이드가 훨씬 용이하긴 하지만 디바이스들의 하드웨어적인 기능(카메라나 GPS 같은)을 사용할 수도 있다.
PWA는 각 플랫폼에 최적화된 사용자 경험을 기반으로 하며, PWA만을 위한 언어나 프레임워크 또는 PWA만을 위한 전문 개발자도 필요가 없다. 리액트(React)나 앵귤러(Angular)만 있으면 만들 수 있다.
```
